(()=>{function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,d=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw d}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t,n,r,o,a,d){try{var i=e[a](d),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var d=e.apply(t,r);function i(e){n(d,o,a,i,s,"next",e)}function s(e){n(d,o,a,i,s,"throw",e)}i(void 0)}))}}var o,a,d=null,i=null,s=!1,u=localStorage.getItem("tasks");function c(){u=JSON.stringify(o),localStorage.setItem("tasks",u)}function l(e){var t,n,r=e.target.closest("section"),a=r.querySelector(".add-input").value,d=r.querySelector(".anyUL");if(a.length<1)alert("Cant assign an empty task ☹");else{var i=document.createElement("li");i.addEventListener("dblclick",y),i.addEventListener("blur",b),i.textContent=a,i.classList.add("task"),i.setAttribute("draggable","true"),t=e.target,n=a,"submit-add-to-do"===t.id&&o.todo.unshift(n),"submit-add-in-progress"===t.id&&o["in-progress"].unshift(n),"submit-add-done"===t.id&&o.done.unshift(n),c(),d.prepend(i)}r.querySelector(".add-input").value=""}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("li");n.setAttribute("class","task"),n.setAttribute("draggable","true"),n.ondragstart=x,n.append(e);for(var r=Object.keys(t),o=0;o<r.length;o++)n.addEventListener(r[o],t[r[o]]);return n}null!=u?(o=JSON.parse(u),function(){for(var e=0;e<o.todo.length;e++){var t=g(o.todo[e],{dblclick:y,blur:b,mouseover:k,mouseout:E}),n=document.getElementById("todo");t.setAttribute("draggable","true"),t.ondragstart=x,n.append(t)}for(var r=0;r<o["in-progress"].length;r++){var a=g(o["in-progress"][r],{dblclick:y,blur:b,mouseover:k,mouseout:E}),d=document.getElementById("in-progress");a.setAttribute("draggable","true"),a.ondragstart=x,d.append(a)}for(var i=0;i<o.done.length;i++){var s=g(o.done[i],{dblclick:y,blur:b,mouseover:k,mouseout:E}),u=document.getElementById("done");s.setAttribute("draggable","true"),s.ondragstart=x,u.append(s)}}()):o={todo:[],"in-progress":[],done:[]},document.getElementById("submit-add-to-do").addEventListener("click",l),document.getElementById("submit-add-in-progress").addEventListener("click",l),document.getElementById("submit-add-done").addEventListener("click",l);var m=document.getElementById("search");m.onkeyup=function(){!function(e,t){for(var n=0;n<t.length;n++)t[n].innerHTML.toUpperCase().includes(e)?t[n].style.display="list-item":t[n].style.display="none"}(m.value.toUpperCase(),document.getElementsByTagName("li"))},document.addEventListener("keydown",(function(e){return function(e){18===e.keyCode&&(s=!0)}(e)})),document.addEventListener("keyup",(function(e){s=!1})),document.addEventListener("keydown",(function(e){return function(e){s&&"1"===e.key&&h("todo"),s&&"2"===e.key&&h("in-progress"),s&&"3"===e.key&&h("done")}(e)}));var f=document.getElementById("todo"),p=document.getElementById("in-progress"),v=document.getElementById("done");function y(e){var t=e.target;oldTaskText=t.textContent;var n=o[t.closest("ul").id];!function(e,t){e.contentEditable="true",e.style.color="red",t[t.indexOf(oldTaskText)]="edit",localStorage.setItem("tasks",JSON.stringify(o))}(t,n)}function b(e){var t=e.target,n=o[t.closest("ul").id];!function(e,t){e.contentEditable="false",e.style.color="black",function(e,t){e.textContent.length>1?t[t.indexOf("edit")]=e.textContent:(t[t.indexOf("edit")]=oldTaskText,e.textContent=oldTaskText),localStorage.setItem("tasks",JSON.stringify(o))}(e,t)}(t,n)}function h(e){var t=document.getElementById(e);if(i=d.closest("ul").id,null===d)alert("hoverd element is not defined");else{var n=g(d.textContent,{dblclick:y,blur:b,mouseover:k,mouseout:E});n.setAttribute("draggable","true"),n.textContent=d.textContent,t.prepend(n),d.remove(),function(e){var t=d.textContent,n=document.getElementById(i);if("todo"===n.id){var r=t,a=o.todo.indexOf(t);o.todo.splice(a,1),o[e].unshift(r),c()}if("in-progress"===n.id){var s=t,u=o["in-progress"].indexOf(t);o["in-progress"].splice(u,1),o[e].unshift(s),c()}if("done"===n.id){var l=t,g=o.done.indexOf(t);o.done.splice(g,1),o[e].unshift(l),c()}}(e)}}function k(e){d=e.target}function E(e){(e.target.className="task")&&(d=null)}function x(e){a=e.target,e.target.style.opacity="1";var t=e.target.closest("ul");i=t.id}function I(e){e.preventDefault()}function C(e){draggedItemContent=a.textContent;var t=e.target.closest("ul"),n=g(draggedItemContent,{dragstart:x,dblclick:y,blur:b,mouseover:k,mouseout:E});n.setAttribute("draggable","true"),t.prepend(n),a.remove(),function(e,t){var n=o[i].indexOf(e);o[i].splice(n,1),o[t.id].unshift(e),c()}(draggedItemContent,t)}f.addEventListener("dragover",I),p.addEventListener("dragover",I),v.addEventListener("dragover",I),f.addEventListener("drop",C),p.addEventListener("drop",C),v.addEventListener("drop",C),document.getElementById("load-btn").onclick=function(){var t=r(regeneratorRuntime.mark((function t(){var n,r,a,d,i,s,c,l,m,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("rightDiv"),(r=document.createElement("div")).classList.add("loader"),n.append(r),t.next=6,fetch("https://json-bins.herokuapp.com/bin/614aeca14021ac0e6c080c6d",{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});case 6:if(!(a=t.sent).ok){t.next=22;break}return t.next=10,a.json();case 10:for(s in d=t.sent,i=d.tasks,document.getElementById("todo").textContent="",document.getElementById("in-progress").textContent="",document.getElementById("done").textContent="",u=JSON.parse(JSON.stringify(i))){c=e(u[s]);try{for(c.s();!(l=c.n()).done;)m=l.value,(f=g([m],{dragstart:x,dblclick:y,blur:b,mouseover:k,mouseout:E})).setAttribute("draggable","true"),f.ondragstart=x,document.getElementById(s).append(f)}catch(e){c.e(e)}finally{c.f()}}localStorage.setItem("tasks",JSON.stringify(u)),o=i,r.remove(),t.next=23;break;case 22:alert("Error : something went wrong ☹");case 23:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),document.getElementById("save-btn").onclick=r(regeneratorRuntime.mark((function e(){var t,n,a,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d=function(){return d=r(regeneratorRuntime.mark((function e(t,n,r){var o,a,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://json-bins.herokuapp.com/bin/614aeca14021ac0e6c080c6d",{method:t,mode:"cors",headers:{"Content-Type":"application/json"},body:n});case 2:if(!(o=e.sent).ok){e.next=11;break}return e.next=6,o.json();case 6:a=e.sent,d=JSON.stringify(a.tasks),localStorage.setItem("tasks",d),e.next=12;break;case 11:alert("Error : something went wrong ☹");case 12:r.remove();case 13:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)},a=function(e,t,n){return d.apply(this,arguments)},function(){return r(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))).apply(this,arguments)},o=null!==u?JSON.parse(u):JSON.parse('{"todo":[],"in-progress":[],"done":[]}'),t=document.getElementById("rightDiv"),(n=document.createElement("div")).classList.add("loader"),t.append(n),a("PUT",JSON.stringify({tasks:o}),n);case 10:case"end":return e.stop()}}),e)})));var S=document.getElementById("trashImg");S.addEventListener("dragover",I),S.addEventListener("drop",(function(e){draggedItemContent=a.textContent,a.remove();var t=o[i].indexOf(draggedItemContent);o[i].splice(t,1),c()}))})();